---
tags:
  - daily
created: 2025-05-25 Sun 12:33
updated: 2025-05-25 Sun 13:25
---

- 12:33:48 
	## fitbit API
	[Getting Started](https://dev.fitbit.com/build/reference/web-api/developer-guide/getting-started/)
	
	1. アプリの登録  
	   Redirect URL はアクセストークン生成時に利用される  
	   ![[Pasted image 20250525122350.png]]
	2. 登録された情報が表示されるので OAuth2.0 Tutorial からアクセストークン等の発行へ進む
	3. Application Type を選択する  
	   ![[Pasted image 20250525122911.png]]
	4. 「PKCE Code Verifier」と「State」の Generate ボタンを押下する  
	   生成された文字列は控える必要なし
	5. Scope を設定する。API にアクセスを認めない項目はチェックを外す。
	6. **Authorization URL**をクリックする。
	7. アクセス許可を求められるので許可をする  
	   ![[Pasted image 20250525123301.png]]
	8. アプリ登録時に指定した Redirect URL が開く。URL をコピーする。  
	   ![[Pasted image 20250525123606.png]]
	9. トークン発行画面に戻り、先ほどコピーした URL を Step3 の欄に張り付ける。
	10. Step4 の「SUBMIT REQUEST」を押下する。リクエストは自動で生成される。  
	    エラーになった。リンク先の情報を見ても特に問題はないように思える。
	    
	    Application Type を Server にして成功した情報を見つけた。  
	    [【備忘録】Fitbit APIを使って自分の睡眠データを取得する ·](https://blog.i-tale.jp/2023/12/d5/)
	    
	    公式ドキュメントによると Application Type が Server の場合はヘッダに**Authorization** を追加する必要がある様子。値は $BASE64ENCODE(<client_id>:<client_secret>)$  
	    ![[Pasted image 20250525125837.png]]  
	    Authorization の値の頭に Basic を付けるのを忘れない。  
	    Application Type: Server で認証に成功した。  
	    ![[Pasted image 20250525132100.png]]
	- アプリ名に fitbit は入れられないらしい  
	  ![[Pasted image 20250525122111.png]]
	  
